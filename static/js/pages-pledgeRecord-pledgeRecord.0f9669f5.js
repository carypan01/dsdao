(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-pledgeRecord-pledgeRecord"],{"103b":function(e,t,n){var a=n("24fb"),i=n("1de5"),s=n("e0ee2");t=a(!1);var o=i(s);t.push([e.i,".recordBox[data-v-370a7065]{background-color:#fff;padding-bottom:%?146?%;width:100%;min-height:%?1245?%}.recordBox .recordNav[data-v-370a7065]{width:100%;height:%?150?%;text-align:center;line-height:%?150?%;color:#9ea1a6;border-bottom:%?2?% solid #e6e6e6}.recordBox .recordNav .navTitle[data-v-370a7065]{display:inline-block;height:%?80?%;margin:0 %?30?%;line-height:%?80?%}.recordBox .recordNav .active[data-v-370a7065]{color:#6778b4;border-bottom:%?4?% solid #007aff}.recordBox .noData[data-v-370a7065]{width:%?276?%;height:%?229?%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;color:#666;font-size:%?24?%;text-align:center;background:url("+o+") no-repeat;background-size:cover;line-height:%?420?%;overflow:hidden}",""]),e.exports=t},1823:function(e,t,n){"use strict";n.r(t);var a=n("b41e"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a},5595:function(e,t,n){"use strict";n.r(t);var a=n("6189"),i=n("bfc7");for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("b324");var o,u=n("f0c5"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"370a7065",null,!1,a["a"],o);t["default"]=r.exports},"5f05":function(e,t,n){var a=n("24fb");t=a(!1),t.push([e.i,".btn[data-v-3208a92d]{width:%?582?%;height:%?70?%;margin-top:%?20?%;background:#ebb25b;border-radius:%?12?%;font-size:%?28?%;line-height:%?70?%;font-weight:700;color:#fff;border:none}.boxInput[data-v-3208a92d]{text-align:center;color:#000;margin:%?20?% 0}.recordsBox .recordContent[data-v-3208a92d]{padding:%?35?% 0;margin:0 %?30?%;color:#000;border-bottom:%?2?% solid #e6e6e6}.recordsBox .recordContent .contentTitle[data-v-3208a92d]{font-size:%?30?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;padding-bottom:%?35?%;border-bottom:%?2?% solid #e6e6e6}.recordsBox .recordContent .contentTitle .doing[data-v-3208a92d]{color:#13b26f}.recordsBox .recordContent .itemWrap[data-v-3208a92d]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding-top:%?35?%}",""]),e.exports=t},6189:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"animated bounceInDown recordBox"},[n("v-uni-view",{staticClass:"recordNav"},[n("v-uni-text",{staticClass:"navTitle",class:2==e.active?"active":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.switchPage3.apply(void 0,arguments)}}},[e._v(e._s(e.$t("pledge.pledge11")))]),n("v-uni-text",{staticClass:"navTitle",class:0==e.active?"active":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.switchPage.apply(void 0,arguments)}}},[e._v(e._s(e.$t("pledge.pledge1")))]),n("v-uni-text",{staticClass:"navTitle",class:1==e.active?"active":"",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.switchPage2.apply(void 0,arguments)}}},[e._v(e._s(e.$t("pledge.pledge2")))])],1),e.pledgeData&&e.pledgeData.length>0?n("resords",{attrs:{cancelZy:e.cancelZy,pledgeData:e.pledgeData,isDone:e.isDone}}):n("v-uni-view",{staticClass:"noData"},[n("v-uni-text",[e._v(e._s(e.$t("pledge.pledge10")))])],1)],1)},s=[]},8444:function(e,t,n){"use strict";var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=a(n("1da1")),s=a(n("a6df")),o={data:function(){return{active:2,pledgeData:[],isDone:1}},onLoad:function(){uni.setNavigationBarTitle({title:"".concat(this.$t("index.index12"))}),this.getPledgeList()},components:{resords:s.default},methods:{switchPage:function(){this.active=0,this.isDone=4,this.getPledgeList()},switchPage2:function(){this.active=1,this.isDone=5,this.getPledgeList()},switchPage3:function(){this.active=2,this.isDone=1,this.getPledgeList()},cancelZy:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={id:e},n.next=3,t.$api.cancelZy(a).then((function(e){201===e.data.statusCode&&(t.getPledgeList(),uni.showToast({icon:"none",title:t.$t("common.common6")}))}));case 3:case"end":return n.stop()}}),n)})))()},getPledgeList:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={state:e.isDone},t.next=3,e.$api.getPledgeList(n).then((function(t){if(200==t.data.statusCode){var n=t.data.data.list;e.pledgeData=n}}));case 3:case"end":return t.stop()}}),t)})))()}}};t.default=o},8530:function(e,t,n){var a=n("103b");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("33e27c46",a,!0,{sourceMap:!1,shadowMode:!1})},"892b":function(e,t,n){var a=n("5f05");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var i=n("4f06").default;i("6b10145c",a,!0,{sourceMap:!1,shadowMode:!1})},a6df:function(e,t,n){"use strict";n.r(t);var a=n("d598"),i=n("1823");for(var s in i)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("aa95");var o,u=n("f0c5"),r=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,"3208a92d",null,!1,a["a"],o);t["default"]=r.exports},aa95:function(e,t,n){"use strict";var a=n("892b"),i=n.n(a);i.a},b324:function(e,t,n){"use strict";var a=n("8530"),i=n.n(a);i.a},b41e:function(e,t,n){"use strict";var a=n("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=a(n("1da1"));n("4160"),n("159b"),n("e25e"),n("13d5"),n("ac1f"),n("1276"),n("a9e3");var s=n("c030"),o={name:"records",data:function(){return{award:[],inputVal:[],abi:[{constant:!0,inputs:[],name:"name",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_upgradedAddress",type:"address"}],name:"deprecate",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"deprecated",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_evilUser",type:"address"}],name:"addBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transferFrom",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"upgradedAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"balances",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"maximumFee",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"_totalSupply",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"unpause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_maker",type:"address"}],name:"getBlackListStatus",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"address"}],name:"allowed",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"paused",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"who",type:"address"}],name:"balanceOf",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"pause",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getOwner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"owner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"newBasisPoints",type:"uint256"},{name:"newMaxFee",type:"uint256"}],name:"setParams",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"issue",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"redeem",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"basisPointsRate",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"",type:"address"}],name:"isBlackListed",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_clearedUser",type:"address"}],name:"removeBlackList",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"MAX_UINT",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_blackListedUser",type:"address"}],name:"destroyBlackFunds",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[{name:"_initialSupply",type:"uint256"},{name:"_name",type:"string"},{name:"_symbol",type:"string"},{name:"_decimals",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Issue",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"amount",type:"uint256"}],name:"Redeem",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newAddress",type:"address"}],name:"Deprecate",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"feeBasisPoints",type:"uint256"},{indexed:!1,name:"maxFee",type:"uint256"}],name:"Params",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_blackListedUser",type:"address"},{indexed:!1,name:"_balance",type:"uint256"}],name:"DestroyedBlackFunds",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"AddedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"_user",type:"address"}],name:"RemovedBlackList",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"}]}},onLoad:function(){},computed:{predictAward:function(){var e=this;return this.pledgeData.forEach((function(t){var n=t.money*t.comboInfoRatio*t.comboInfoDays;e.award.push(n)})),this.award}},methods:{continueRecharge:function(e,t){var n=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(i=n.inputVal[t]||!1,!(i>parseInt(e.comboInfoMaxMoney-e.money)||i<1||0==i)){a.next=4;break}return uni.showToast({icon:"none",title:n.$t("common.common4")}),a.abrupt("return");case 4:return s={id:e.id,amount:i},a.next=7,n.$api.continueRecharge(s).then((function(e){200===e.data.statusCode&&("TRC"==n.currency?n.tronPay(n.inputVal[t]):n.ercPay(n.inputVal[t]))}));case 7:case"end":return a.stop()}}),a)})))()},hex2int:function(e){for(var t,n=e.length,a=new Array(n),i=0;i<n;i++)t=e.charCodeAt(i),48<=t&&t<58?t-=48:t=(223&t)-65+10,a[i]=t;return a.reduce((function(e,t){return e=16*e+t,e}),0)},tronPay:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,i,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=uni.getStorageSync("tokenType"),i=tronWeb.defaultAddress.base58,n.prev=2,n.next=5,tronWeb.contract().at(a);case 5:return s=n.sent,n.next=8,s.balanceOf(i).call();case 8:return o=n.sent,uni.showLoading(),t.balance=t.hex2int(o._hex.split("x")[1])/1e6,n.prev=11,n.next=14,s.transfer(uni.getStorageSync("shopAddress"),1e6*e).send({feeLimit:tronWeb.toSun(1e3)}).then((function(e){uni.hideLoading(),uni.showToast({icon:"none",title:t.$t("common.common6")})}));case 14:n.sent,n.next=21;break;case 17:n.prev=17,n.t0=n["catch"](11),uni.hideLoading(),uni.showToast({icon:"none",title:t.$t("common.common3")});case 21:console.log("result: ",t.hex2int(o._hex.split("x")[1])/1e6),n.next=27;break;case 24:n.prev=24,n.t1=n["catch"](2),console.error("trigger smart contract error",n.t1);case 27:case"end":return n.stop()}}),n,null,[[2,24],[11,17]])})))()},ercPay:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var a,i,o,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a=t.abi,uni.showLoading(),i=uni.getStorageSync("tokenType"),o=new s.ethers.providers.Web3Provider(web3.currentProvider),t.signer=o.getSigner(),u=new s.ethers.Contract(i,a,t.signer),n.next=9,u.transfer(uni.getStorageSync("shopAddress"),1e6*e);case 9:n.sent,uni.hideLoading(),uni.showToast({icon:"none",title:t.$t("common.common6")}),n.next=19;break;case 14:n.prev=14,n.t0=n["catch"](0),console.log(n.t0,2),uni.showToast({icon:"none",title:t.$t("common.common3")}),uni.hideLoading();case 19:case"end":return n.stop()}}),n,null,[[0,14]])})))()}},props:{pledgeData:Array,isDone:Number,cancelZy:Function}};t.default=o},bfc7:function(e,t,n){"use strict";n.r(t);var a=n("8444"),i=n.n(a);for(var s in a)["default"].indexOf(s)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=i.a},d598:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}));var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"recordsBox"},e._l(e.pledgeData,(function(t,a){return n("v-uni-view",{key:a,staticClass:"recordContent"},[n("v-uni-view",{staticClass:"contentTitle"},[n("v-uni-text",[e._v("USDT"+e._s(e.$t("pledge.pledge3")))]),4===e.isDone?n("v-uni-text",{staticClass:"doing"},[e._v(e._s(e.$t("pledge.pledge1")))]):e._e(),1===e.isDone?n("v-uni-text",{staticClass:"doing"},[e._v(e._s(e.$t("pledge.pledge11")))]):e._e(),5===e.isDone?n("v-uni-text",{staticClass:"doing"},[e._v(e._s(e.$t("pledge.pledge2")))]):e._e()],1),n("v-uni-view",{staticClass:"itemWrap"},[n("v-uni-text",[e._v(e._s(e.$t("pledge.pledge16")))]),n("v-uni-text",[e._v(e._s(t.comboInfoMaxMoney)+" USDT")])],1),n("v-uni-view",{staticClass:"itemWrap"},[n("v-uni-text",[e._v(e._s(e.$t("pledge.pledge4")))]),n("v-uni-text",[e._v(e._s(t.money)+" USDT")])],1),3==t.zyType&&4==t.state?n("v-uni-view",{staticClass:"itemWrap"},[n("v-uni-text",[e._v(e._s(e.$t("pledge.pledge13")))]),n("v-uni-text",[e._v(e._s(parseInt(t.comboInfoMaxMoney-t.money))+" USDT")])],1):e._e(),n("v-uni-view",{staticClass:"itemWrap"},[n("v-uni-text",[e._v(e._s(e.$t("pledge.pledge6")))]),n("v-uni-text",[e._v(e._s(t.comboInfoDays)+" "+e._s(e.$t("pledge.pledge9")))])],1),n("v-uni-view",{staticClass:"itemWrap"},[n("v-uni-text",[e._v(e._s(e.$t("pledge.pledge5")))]),n("v-uni-text",[e._v(e._s(t.earningAmount)+" ETH")])],1),n("v-uni-view",{staticClass:"itemWrap"},[n("v-uni-text",[e._v(e._s(e.$t("pledge.pledge12")))]),n("v-uni-text",[e._v(e._s(t.successfulTime||"-"))])],1),n("v-uni-view",{staticClass:"itemWrap"},[n("v-uni-text",[e._v(e._s(e.$t("pledge.pledge8")))]),n("v-uni-text",[e._v(e._s(t.endTime||"-"))])],1),3==t.zyType&&4==t.state?n("v-uni-view",[n("v-uni-input",{staticClass:"boxInput",attrs:{type:"number","placeholder-style":"font-size:26rpx;color:rgb(153,153,153);",placeholder:"点击输入金额"},model:{value:e.inputVal[a],callback:function(t){e.$set(e.inputVal,a,t)},expression:"inputVal[index]"}}),n("v-uni-button",{staticClass:"btn",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.continueRecharge(t,a)}}},[e._v(e._s(e.$t("pledge.pledge14")))])],1):e._e(),3==t.zyType&&1==t.state?n("v-uni-view",[n("v-uni-button",{staticClass:"btn",on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.cancelZy(t.id)}}},[e._v(e._s(e.$t("pledge.pledge15")))])],1):e._e()],1)})),1)},s=[]},e0ee2:function(e,t,n){e.exports=n.p+"static/img/noData.54da2ce8.png"}}]);